@import "tailwindcss";

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

:root {
  /* WhatsApp Light Theme */
  --background: 0 0% 100%;
  /* White */
  --foreground: 0 0% 0%;
  /* Black text */

  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;

  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;

  /* WhatsApp Green #25D366 -> 142 71% 49% */
  --primary: 142 71% 49%;
  --primary-foreground: 0 0% 100%;

  /* Light backgrounds */
  --secondary: 0 0% 96%;
  --secondary-foreground: 0 0% 0%;

  --muted: 200 7% 85%;
  --muted-foreground: 200 4% 40%;

  /* WhatsApp light green for sent messages #DCF8C6 -> 95 56% 87% */
  --accent: 95 56% 87%;
  --accent-foreground: 0 0% 0%;

  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 91%;
  --input: 0 0% 91%;
  --ring: 142 71% 49%;

  --radius: 0.5rem;

  /* WhatsApp Custom Colors */
  --whatsapp-green: 142 71% 49%;
  /* #25D366 */
  --whatsapp-dark-green: 174 100% 19%;
  /* #075E54 */
  --whatsapp-light-green: 95 56% 87%;
  /* #DCF8C6 */
  --whatsapp-chat-bg: 36 33% 91%;
  /* #E5DDD5 */
  --whatsapp-teal: 174 63% 32%;
  /* #128C7E */

  /* Status colors */
  --online: 142 71% 49%;
  --offline: 200 4% 52%;
  --typing: 142 71% 49%;

  /* Message bubbles */
  --sent-bubble: 95 56% 87%;
  --received-bubble: 0 0% 100%;
}

[data-theme="dark"] {
  /* WhatsApp Dark Theme */
  --background: 200 20% 6%;
  /* #0B141A */
  --foreground: 180 5% 91%;
  /* #E9EDEF */

  --card: 200 15% 12%;
  /* #1F2C33 */
  --card-foreground: 180 5% 91%;

  --popover: 200 15% 12%;
  --popover-foreground: 180 5% 91%;

  /* WhatsApp Dark Green #00A884 -> 168 100% 33% */
  --primary: 168 100% 33%;
  --primary-foreground: 0 0% 100%;

  --secondary: 200 15% 13%;
  --secondary-foreground: 180 5% 91%;

  --muted: 200 10% 25%;
  --muted-foreground: 200 4% 52%;

  /* Dark sent messages #005C4B -> 168 100% 18% */
  --accent: 168 100% 18%;
  --accent-foreground: 180 5% 91%;

  --destructive: 0 62% 31%;
  --destructive-foreground: 0 0% 100%;

  --border: 200 10% 16%;
  --input: 200 10% 16%;
  --ring: 168 100% 33%;

  /* WhatsApp Dark Custom Colors */
  --whatsapp-green: 168 100% 33%;
  /* #00A884 */
  --whatsapp-dark-green: 200 15% 12%;
  /* #1F2C33 */
  --whatsapp-light-green: 168 100% 18%;
  /* #005C4B */
  --whatsapp-chat-bg: 200 20% 6%;
  /* #0B141A */

  /* Status colors */
  --online: 168 100% 33%;
  --offline: 200 4% 40%;

  /* Message bubbles */
  --sent-bubble: 168 100% 18%;
  --received-bubble: 200 15% 13%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }

  /* Custom Scrollbar - WhatsApp Style */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  [data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.2);
  }

  [data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.4);
  }
}

@layer utilities {

  /* Message bubble animations */
  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(20px);
    }

    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }

    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slide-in-right {
    animation: slideInRight 0.2s ease-out;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.2s ease-out;
  }

  /* WhatsApp message bubble tail */
  .message-tail-right::after {
    content: '';
    position: absolute;
    right: -8px;
    bottom: 0;
    width: 0;
    height: 0;
    border-left: 8px solid hsl(var(--sent-bubble));
    border-bottom: 8px solid transparent;
  }

  .message-tail-left::after {
    content: '';
    position: absolute;
    left: -8px;
    bottom: 0;
    width: 0;
    height: 0;
    border-right: 8px solid hsl(var(--received-bubble));
    border-bottom: 8px solid transparent;
  }

  [data-theme="dark"] .message-tail-right::after {
    border-left-color: hsl(var(--sent-bubble));
  }

  [data-theme="dark"] .message-tail-left::after {
    border-right-color: hsl(var(--received-bubble));
  }

  /* Typing indicator animation */
  @keyframes typing {

    0%,
    60%,
    100% {
      transform: translateY(0);
    }

    30% {
      transform: translateY(-10px);
    }
  }

  .typing-dot {
    animation: typing 1.4s infinite;
  }

  .typing-dot:nth-child(2) {
    animation-delay: 0.2s;
  }

  .typing-dot:nth-child(3) {
    animation-delay: 0.4s;
  }
}